---
layout: default
title:  "部署与运行"
date:   2022-02-19 08:50:00
categories: main

---

# 玉龙智慧学习平台的部署与运行

## 前置条件

安装有go程序，设置完成go代理

## 编译具体流程

1. 获取源代码

   点击上方按钮，前往玉龙开源中心，拉取源码

2. 在完整源码目录运行命令

   ```sh
   go mod tidy
   ```

   如果报错，应当是go版本与go mod不符，请更新go版本

3. 运行命令

   ```sh
   go build
   ```

   如果过程中没有出现报错，则编译完成

4. 将编译出的程序和img、static、template目录复制到单独的文件夹中

## 不编译，直接获取成品

点击上方按钮，获取源代码。从release中下载编译好的成品

## 运行

进行此步骤前，请保证完成上方任意步骤

1. 双击或在命令行中启动exe（linux则无后缀）

   命令行说明：()包裹则为可选启动项

   ``` sh
   jade.exe (-port [启动端口]) (-https) 
   ```

   注意：启动https模式，需要在根目录下具有root.crt和root.key文件。

   这两个文件应当是域名证书或自测试证书

   详细说明请使用命令

   ```sh
   jade.exe --help
   ```

   查看

2. 在浏览器中打开 域名:启动端口 或者 ip:启动端口

   注册一个新的账号

3. 关闭一步骤执行程序

4. 使用命令赋予刚注册的账号管理员权限，这样才有资格进入后台

   ```sh
   jade.exe -admin [刚刚注册的用户名]
   ```

5. 重新执行1步骤

至此，部署完成，后台进入方式为

登录管理员账号（即4步骤中添加的账号）

右上角，进入后台即可

作业设置等权限，需要在用户管理中调整，发布作业的老师或班长的用户权限等级应设置为2.

如将某用户权限等级设置为3，则该用户可以进入后台。